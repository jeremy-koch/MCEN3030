{"version":2,"kind":"Article","sha256":"43aef02a03599b2ad85366ce67564091d9c6a25a260237ffef97be9f644b7fce","slug":"debugging","location":"/9_readings/debugging.md","dependencies":[],"frontmatter":{"title":"Debugging Strategies","content_includes_title":false,"numbering":{"title":{"offset":1}},"exports":[{"format":"md","filename":"debugging.md","url":"/debugging-129240e3f26fa4a94dd1af9ceff91540.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Author:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZMEWwKRSqP"}],"key":"wK8v5Fop8p"},{"type":"text","value":" Jeremy Koch","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hjQszwg9fA"}],"key":"M9EfPHeL6L"},{"type":"heading","depth":2,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Motivation","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"h0pjLgQ7Wt"}],"identifier":"motivation","label":"Motivation","html_id":"motivation","implicit":true,"key":"FC4DPueZ8D"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"I think developing an eye for code (including debugging) is a really valuable skill to have! But I’ll admit, AI seems to be pretty good at debugging, and it is really nice to have that tedium reduced. But...","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"EHjkaP8at9"}],"key":"AvFMXYM11r"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Warning","key":"RqEAlDmSRx"}],"key":"SxCWGbE5SH"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"You may not be able to post proprietary code to a LLM, as it effectively becomes public (part of the training data) the moment you type it in.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"LeWwQI83Fq"}],"key":"iJ3lvTz2U8"}],"key":"kTwoMQgUJz"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"And if you are writing something brand new, AI might not know what you are going for anyway! How will you debug?","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"SszprA4OE9"}],"key":"MoySaI4mOG"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Debugging has basically two flavors:","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"wtWkjqDwrd"}],"key":"BGa6HrjrSx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The code is producing an error.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"VPZg0XaIHI"}],"key":"SkvT1d1GBO"}],"key":"TMw5hoO4j9"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The code is NOT producing an error, but is behaving unexpectedly.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"FNXQt3zOix"}],"key":"jpRTecCJUZ"}],"key":"KcYuL7hOJo"}],"key":"YZPUMPm7bD"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"The strategies mentioned here can often be used in either case.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"CmeHu909lt"}],"key":"d5KCM2xLxR"},{"type":"heading","depth":2,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"The code is producing an error","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"wK8P3HxU9Q"}],"identifier":"the-code-is-producing-an-error","label":"The code is producing an error","html_id":"the-code-is-producing-an-error","implicit":true,"key":"lZnPJEmDNV"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"it usually will tell you the line number where things are going wrong. “Run-time error” means it is running for infinite time... probably it is stuck in an infinite loop. “Array indices must be positive integers or logical values” means you are somewhere calling an array with something like x(1.5), but there is no “one-point-fifth index”. Since MATLAB calls functions with the same syntax, e.g. f(1.5) give a value of 1.5 to a function f (which is legal), it might take some thoughtfulness.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"pZ5mMKMAIq"}],"key":"S9Qy9difuF"},{"type":"heading","depth":2,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"The code is behaving unexpectedly/giving unexpected results","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"Z3sG94GCnt"}],"identifier":"the-code-is-behaving-unexpectedly-giving-unexpected-results","label":"The code is behaving unexpectedly/giving unexpected results","html_id":"the-code-is-behaving-unexpectedly-giving-unexpected-results","implicit":true,"key":"qAfj4jMo1h"},{"type":"heading","depth":3,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Rubber-duck debugging","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"Mlu8h9PAuR"}],"identifier":"rubber-duck-debugging","label":"Rubber-duck debugging","html_id":"rubber-duck-debugging","implicit":true,"key":"F1qMkWGHYh"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"... is a classic tool used by code writers. The mere act of explaining a code in natural language is often enough to reveal where the mistake is.","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"GtXmA5ZvgF"}],"key":"ibFjVoqCmX"},{"type":"heading","depth":3,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Check that a line of code does what you expect","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"p4QkcC9l06"}],"identifier":"check-that-a-line-of-code-does-what-you-expect","label":"Check that a line of code does what you expect","html_id":"check-that-a-line-of-code-does-what-you-expect","implicit":true,"key":"VEbO3O004I"},{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"An example: you are trying to generate a list of numbers 1, 2, 3, ... , 30. Your code includes x=[1,30], but is not working. Paste x=[1,30] into the Command Window, don’t suppress with ;, and see that the output is actually: 1 30. Amend your code as necessary!","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"drRzhQHpxU"}],"key":"bKQFG41rmI"},{"type":"heading","depth":3,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Using pencil and paper","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"PIcC2eGFg2"}],"identifier":"using-pencil-and-paper","label":"Using pencil and paper","html_id":"using-pencil-and-paper","implicit":true,"key":"ZDPOCN4QNe"},{"type":"paragraph","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"We will be completing problems in class. An example: you might be asked to compute, by hand, the result after one iteration of an algorithm. You will then be able to compare that against your code, e.g. by using a debug mode to pause at the end of each loop, or perhaps with a bit of code like","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"PstsRywU9x"}],"key":"XfrZxRNkz3"},{"type":"tabSet","children":[{"type":"tabItem","title":"MATLAB","children":[{"type":"code","lang":"MATLAB","value":"k=2;\nN=50;\nS=0;\nfor n=1:N\n    S=S+1/n^k;\n    if n==1:\n        print(S)\n    end\nend\nprint(S)","position":{"start":{"line":40,"column":1},"end":{"line":51,"column":1}},"key":"Q4mXx8NiQK"}],"key":"d9lwozjzpZ"},{"type":"tabItem","title":"python","children":[{"type":"code","lang":"python","value":"f=","position":{"start":{"line":54,"column":1},"end":{"line":56,"column":1}},"key":"yB6vJtRTIh"}],"key":"PTP7LNFsGC"},{"type":"tabItem","title":"julia","children":[{"type":"code","lang":"julia","value":"f=","position":{"start":{"line":59,"column":1},"end":{"line":61,"column":1}},"key":"h49t2xzX2k"}],"key":"liQVYTzBeK"}],"key":"NQp5sqzuU7"},{"type":"paragraph","position":{"start":{"line":76,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"text","value":"Plot the function to make sure things make sense. Basic plotting is illuminating. Maybe you are trying to find a root for f(x) = cos(x)+3. Do this:\nx=0:0.01:8*pi;\ny=cos(x)+3;\nplot(x,y)\n... will get you a quick plot, and you will see that the function does not have any zeros.\nPrint something every time through a loop.\nDon’t suppress the error value. Is it Inf? Is it 0? It probably shouldn’t be.\nAdd a counter to the while loop to see how many times it goes through. If it is just once, probably there is an issue. If it reaches 99999, also probably an issue.\nIf you call another function, print the value (i.e., don’t suppress the output of the line with a ;). If it is giving you the same value each time, maybe there is an issue.\nPrint the output of an iterative scheme. It should probably be converging, so you might see: 0.9951, 0.9231, 0.9132, 0.9101, ... . If you see 0.9951, -11.9541, 31.1192, -55.2901, you are in danger.\nIf you are trying to generate a location for a zero or of a maximum, or whatever... you’ve got your output and you know the function. In your Command Window, See if f(x_out) is close to zero (if that is what you are trying to find). If you are hoping for a max, see if f(x_max+0.001)< f(x_max) and f(x_max-0.001)< f(x_max). (And, no, you don’t have to worry about the logicals <>, just read the outputs.\nTo access MATLAB’s debug mode, click the line number in your function/script that you would like to stop at. Then call the function as normal. If you’d like to keep going, click “Continue” in the top menu. Debug mode is maybe most useful when trying to see what is happening each time through a loop (so, you would choose the “end” of the loop as your stopping points). Some things to look out for:\nAre your variables expected to be scalars or arrays? Are they actually scalars or arrays? Are your values expected to be positive? Are they positive?\nAre your values even updating? Maybe you forgot to reset something’s value each time through!\nDid a variable find its way to infinity, zero, or an inappropriate negative number within a few times through the loop? Is that concerning?\nWe might expect a convergence metric to get smaller each time through the loop. Is it actually getting smaller?","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"cq2cBr6XhB"}],"key":"D07pYt2FD0"}],"key":"qcGOYLv7x4"}],"key":"JKZYVjAzQ0"},"references":{"cite":{"order":[],"data":{}}}}